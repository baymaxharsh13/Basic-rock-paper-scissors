<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rock paper scissors</title>
</head>
<body>
    <p> rock paper scissors</p>
    <!--rock-->
    <button onclick = "
    const compMove = pickComMove() ; 
     resultMove(`rock`) ;  
    ">rock</button> 
   <!--paper-->
   
   <button onclick = "
    const compMove = pickComMove() ; 
    resultMove(`paper`) ; ">paper</button>
   
    <!--scissors-->
   
   <button onclick ="
    const compMove = pickComMove() ; 
        resultMove(`scissors`) ;
      ">scissors</button>

    <button onclick = " 
    score.wins   = 0 
    score.losses = 0 
    score.ties   = 0  
    ">Reset Score</button>

    <script>
    //function -- 

    const score = JSON.parse(localStorage.getItem(`score`)) ;  //stores the data in  local storage since stored as json string it is converted back to js
     
        function resultMove(playerMove){
            let res1 = ``; 
            const compMove = pickComMove() ;
        if ( playerMove ===`scissors`){
            
            if (compMove === `rock`){
                res1 = `you loose` ; 
            }else if(compMove === `paper`) {
                res1 = `you win` ; 
            }else if(compMove ===`scissors`){
                res1 = `tie` ; 
            }
        } 
        else if(playerMove === `paper`){
           
        if (compMove === `rock`){
            res1 = `you win` ; 
        }else if(compMove === `paper`) {
            res1 = `tie` ; 
        }else if(compMove ===`scissors`){
            res1 = `you loose` ; 
        }
         
        }else if(playerMove === `rock`){
            
        if (compMove === `rock`){
            res1 = `tie` ; 
        }else if(compMove === `paper`) {
            res1 = `you loose` ; 
        }else if(compMove ===`scissors`){
            res1 = `you win` ; 
        }
        }
        if(res1 === `you win`){
            score.wins++ ; 
        }else if(res1 === `you loose`){
            score.losses++    
        }else if (res1 === `tie`){
            score.ties++ ;
        }
        localStorage.setItem(`score` ,JSON.stringify(score)); //saving in local storage as json string 
          alert(`you picked ${playerMove} , comp picked ${compMove} , ${res1}
          Wins : ${score.wins} , losses : ${score.losses} ,Ties : ${score.ties}`) ;
    }
    
        function pickComMove(){ 
     const randomNumber = Math.random()
     let compMove = ``;
    if (randomNumber>= 0 && randomNumber < 1/3){
        compMove = `rock`; 
    }else if(randomNumber>=1/3 && randomNumber < 2/3){
        compMove = `paper`; 
    }else if (randomNumber >=2/3 && randomNumber < 1){
        compMove = `scissors`;      //scope limits where a variable exists curly bracket ke bahar nai use kar sakta same variables ko 
    }
    return compMove ;   
        }
    </script>
</body>
